<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/taiji.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="施工中">
<meta property="og:type" content="article">
<meta property="og:title" content="笔记-SpringMVC">
<meta property="og:url" content="http://yoursite.com/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/index.html">
<meta property="og:site_name" content="纸人">
<meta property="og:description" content="施工中">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/springmvc%E6%B5%81%E7%A8%8B%E5%9B%BE.png">
<meta property="og:image" content="http://yoursite.com/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/List%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E5%B0%81%E8%A3%85.png">
<meta property="og:image" content="http://yoursite.com/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/Map%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E5%B0%81%E8%A3%85.png">
<meta property="og:image" content="http://yoursite.com/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/%E8%A7%86%E5%9B%BEView%E5%AE%9E%E7%8E%B0%E7%B1%BB.png">
<meta property="og:image" content="http://yoursite.com/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8ViewResolver%E5%AE%9E%E7%8E%B0%E7%B1%BB.png">
<meta property="article:published_time" content="2020-04-20T11:46:20.000Z">
<meta property="article:modified_time" content="2020-05-09T10:13:06.664Z">
<meta property="article:author" content="纸人">
<meta property="article:tag" content="框架">
<meta property="article:tag" content="SpringMVC">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/springmvc%E6%B5%81%E7%A8%8B%E5%9B%BE.png">

<link rel="canonical" href="http://yoursite.com/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>笔记-SpringMVC | 纸人</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
	
	<a href="https://github.com/xingxing-j" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#FD6C6C; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">纸人</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">已有的事，后必再有</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-fw fa-heartbeat"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="search-pop-overlay">
  <div class="popup search-popup">
      <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

  </div>
</div>

  </div>
</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/hu.png">
      <meta itemprop="name" content="纸人">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="纸人">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          笔记-SpringMVC
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-20 19:46:20" itemprop="dateCreated datePublished" datetime="2020-04-20T19:46:20+08:00">2020-04-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-05-09 18:13:06" itemprop="dateModified" datetime="2020-05-09T18:13:06+08:00">2020-05-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">后端学习</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>施工中</p>
<a id="more"></a>

<h1 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h1><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1.概述"></a>1.概述</h2><ul>
<li>一种轻量级的、基于MVC的Web层应用框架</li>
<li>通过一套 MVC 注解，让 POJO 成为处理请求的控制器，而无须实现任何接口</li>
<li>支持 REST 风格的 URL 请求</li>
<li>采用了松散耦合可插拔组件结构，比其他 MVC 框架更具扩展性和灵活性</li>
</ul>
<h2 id="2-SpringMVC的基本使用"><a href="#2-SpringMVC的基本使用" class="headerlink" title="2. SpringMVC的基本使用"></a>2. SpringMVC的基本使用</h2><h3 id="2-0-建Web工程，导jar包"><a href="#2-0-建Web工程，导jar包" class="headerlink" title="2.0. 建Web工程，导jar包"></a>2.0. 建Web工程，导jar包</h3><p>导的包有：</p>
<p>spring-aop-4.0.0.RELEASE.jar<br>spring-beans-4.0.0.RELEASE.jar<br>spring-context-4.0.0.RELEASE.jar<br>spring-core-4.0.0.RELEASE.jar<br>spring-expression-4.0.0.RELEASE.jar<br>commons-logging-1.1.3.jar<br>spring-web-4.0.0.RELEASE.jar<br>spring-webmvc-4.0.0.RELEASE.jar</p>
<h3 id="2-1-Web-xml中配置DispathcerServlet"><a href="#2-1-Web-xml中配置DispathcerServlet" class="headerlink" title="2.1. Web.xml中配置DispathcerServlet"></a>2.1. Web.xml中配置DispathcerServlet</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置SpringMVC核心控制器： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springDispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 配置DispatcherServlet的初始化參數：设置文件的路径和文件名称</span></span><br><span class="line"><span class="comment">        如不想配置文件的路径，需配置一个/WEB_INF/&lt;servlet-name&gt;-servlet.xml文件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- contextConfigLocation：指定SpringMVC配置文件位置 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Servlet在启动时加载，在第一次访问时创建对象。</span></span><br><span class="line"><span class="comment">        load-on-startup：服务器启动时创建对象，值越小优先级越高，越先创建对象 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>springDispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- /*和/都是拦截所有请求。</span></span><br><span class="line"><span class="comment">        但/不能拦截*.jsp,能保证*.jsp访问正常；/*范围更大，会拦截到*.jsp这些文件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-配置springmvc-xml文件"><a href="#2-2-配置springmvc-xml文件" class="headerlink" title="2.2. 配置springmvc.xml文件"></a>2.2. 配置springmvc.xml文件</h3><p>导入各种名称空间（beans,context,mvc……）后</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 设置扫描组件的包： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.atguigu.springmvc"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!-- mvc:annotation-driven标签会默认会帮我们注册默认处理请求，参数和返回值的类 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 配置映射解析器：如何将控制器返回的结果字符串，转换为一个物理的视图文件--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"internalResourceViewResolver"</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/views/"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-编写相应Controller类和success页面-success-jsp-进行测试等"><a href="#2-3-编写相应Controller类和success页面-success-jsp-进行测试等" class="headerlink" title="2.3. 编写相应Controller类和success页面(success.jsp)进行测试等"></a>2.3. 编写相应Controller类和success页面(success.jsp)进行测试等</h3><h2 id="3-SpringMVC内部流程图"><a href="#3-SpringMVC内部流程图" class="headerlink" title="3. SpringMVC内部流程图"></a>3. SpringMVC内部流程图</h2><p><img src="/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/springmvc%E6%B5%81%E7%A8%8B%E5%9B%BE.png" alt="springmvc流程图"></p>
<h2 id="4-请求相关"><a href="#4-请求相关" class="headerlink" title="4. 请求相关"></a>4. 请求相关</h2><h3 id="4-0-相关注解"><a href="#4-0-相关注解" class="headerlink" title="4.0. 相关注解"></a>4.0. 相关注解</h3><h4 id="4-0-1-RequestMapping"><a href="#4-0-1-RequestMapping" class="headerlink" title="4.0.1. @RequestMapping"></a>4.0.1. @RequestMapping</h4><h5 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h5><h6 id="value"><a href="#value" class="headerlink" title="value"></a>value</h6><ul>
<li>为控制器指定可以处理哪些URL请求</li>
<li><strong>标记在类上：</strong>提供初步的请求映射信息。路径相对于  WEB 应用的根目录</li>
<li><strong>标记在方法上：</strong>提供进一步的细分映射信息。路径相对于标记在类上的 URL。若类上未标注 @RequestMapping，则方法处标记的 URL 相对于 WEB 应用的根目录</li>
<li><strong>示例：</strong>@RequestMapping(value={“value1”,”value2”})</li>
</ul>
<h6 id="method"><a href="#method" class="headerlink" title="method"></a>method</h6><ul>
<li>限定请求方式</li>
<li>不写method则默认什么请求都行</li>
<li><strong>示例：</strong>@RequestMapping(value=”URL路径”,method=RequestMethod.PUT)</li>
</ul>
<h6 id="params"><a href="#params" class="headerlink" title="params"></a>params</h6><ul>
<li><p>限定请求参数</p>
<p>param1: 表示请求必须包含名为 param1 的请求参数</p>
<p>!param1: 表示请求不能包含名为 param1 的请求参数</p>
<p>param1 != value1: 表示请求包含名为 param1 的请求参数，但其值不能为 value1</p>
<p>param1 = value1: 表示请求包含名为 param1 的请求参数，但其值必须为 value1</p>
</li>
<li><p><strong>示例：</strong>params={“param1=value1”, “param2”,”!param3”,”param4!=value4”}</p>
<p>请求必须包含名为 param1,2 的请求参数</p>
<p>param1 参数的值必须为 value1；param2的值随意；</p>
<p>请求参数中不能有param3；参数中可以有param4，如果有，其值不能为value4</p>
</li>
</ul>
<h6 id="headers"><a href="#headers" class="headerlink" title="headers"></a>headers</h6><ul>
<li><p>指定request中必须包含某些指定的header值，才能让该方法处理请求，用法同params</p>
<p>例：<strong>@RequestMapping(headers={ “Accept-Language=en-US,zh;q=0.8”})</strong></p>
</li>
</ul>
<h6 id="consumes"><a href="#consumes" class="headerlink" title="consumes"></a>consumes</h6><ul>
<li><p>指定处理请求的提交内容类型（Content-Type）</p>
<p>例：@RequestMapping(consumes=”application/json”)</p>
<p>​    仅处理request的Content-Type中为“application/json”类型的请求</p>
</li>
</ul>
<h6 id="produces"><a href="#produces" class="headerlink" title="produces"></a>produces</h6><ul>
<li><p>指定返回的内容类型，仅当request请求头中的(Accept)类型中包含该指定类型才返回</p>
<p>例：@RequestMapping(produces=”application/json”)</p>
<p>​    方法仅处理request请求中Accept头中包含了”application/json”的请求，</p>
<p>​    同时暗示了返回的内容类型为application/json;</p>
</li>
</ul>
<h5 id="RequestMapping支持Ant资源路径风格"><a href="#RequestMapping支持Ant资源路径风格" class="headerlink" title="@RequestMapping支持Ant资源路径风格"></a>@RequestMapping支持Ant资源路径风格</h5><ol>
<li><h6 id="路径中带有？"><a href="#路径中带有？" class="headerlink" title="路径中带有？"></a>路径中带有？</h6><p>每一个<strong>?</strong>匹配单层路径中的一个字符 </p>
<p><strong>例：</strong>user/createUser??<br>​    匹配 /user/createUseraa、/user/createUserbb 等 URL</p>
</li>
<li><h6 id="路径中带有"><a href="#路径中带有" class="headerlink" title="路径中带有*"></a>路径中带有*</h6><p>匹配单层路径中的任意字符</p>
<p><strong>例：</strong>/user/*/createUser<br>​    匹配 /user/aaa/createUser、/user/bbb/createUser 等 URL</p>
</li>
<li><h6 id="路径中带有-1"><a href="#路径中带有-1" class="headerlink" title="路径中带有**"></a>路径中带有**</h6><p>匹配多层路径</p>
<p><strong>例：</strong>/user/**/createUser<br>​    匹配 /user/createUser、/user/aaa/bbb/createUser 等 URL</p>
</li>
</ol>
<h4 id="4-0-2-PathVariable"><a href="#4-0-2-PathVariable" class="headerlink" title="4.0.2. @PathVariable"></a>4.0.2. @PathVariable</h4><h5 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h5><p>可以将 URL 中占位符参数绑定到控制器处理方法的入参中,常用于REST风格的传值</p>
<h5 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value=<span class="string">"/testPathVariable/&#123;id&#125;"</span>)<span class="comment">//&#123;id&#125;只能占一层路径</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testPathVariable</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> Integer c)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"testPathVariable...id="</span>+c);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-0-3-RequestParam"><a href="#4-0-3-RequestParam" class="headerlink" title="4.0.3. @RequestParam"></a>4.0.3. @RequestParam</h4><h5 id="简述-1"><a href="#简述-1" class="headerlink" title="简述"></a>简述</h5><p>该注解在处理方法的入参处使用，可以把请求参数传给方法入参，常用于普通传值</p>
<h5 id="属性-1"><a href="#属性-1" class="headerlink" title="属性"></a>属性</h5><h6 id="value-1"><a href="#value-1" class="headerlink" title="value"></a>value</h6><p>指定要获取的请求参数的Key</p>
<h6 id="required"><a href="#required" class="headerlink" title="required"></a>required</h6><p>请求参数是否必须。默认为true，表示请求参数里必须包含对应的参数，否则会抛异常</p>
<h6 id="defaultValue"><a href="#defaultValue" class="headerlink" title="defaultValue"></a>defaultValue</h6><p>默认值，当required=false且没有传递参数时使用该值。默认为null</p>
<h5 id="示例：-1"><a href="#示例：-1" class="headerlink" title="示例："></a>示例：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value=<span class="string">"/testRequestParam"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testRequestParam</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">@RequestParam(value=<span class="string">"username"</span>)</span> String username,</span></span><br><span class="line"><span class="function">@<span class="title">RequestParam</span><span class="params">(value=<span class="string">"age"</span>,required=<span class="keyword">false</span>,defaultValue=<span class="string">"0"</span>)</span> <span class="keyword">int</span> age)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"testRequestParam - username="</span>+username +<span class="string">",age="</span>+age);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-0-4-RequestHeader"><a href="#4-0-4-RequestHeader" class="headerlink" title="4.0.4. @RequestHeader"></a>4.0.4. @RequestHeader</h4><h5 id="简述-2"><a href="#简述-2" class="headerlink" title="简述"></a>简述</h5><p>将请求报头的指定属性值绑定到处理方法的入参上</p>
<h5 id="属性-2"><a href="#属性-2" class="headerlink" title="属性"></a>属性</h5><p>同@RequestParam   </p>
<h5 id="示例：-2"><a href="#示例：-2" class="headerlink" title="示例："></a>示例：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(value=<span class="string">"/testRequestHeader"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testRequestHeader</span><span class="params">(@RequestHeader(value=<span class="string">"Accept-Language"</span>)</span> String al)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"testRequestHeader - Accept-Language："</span>+al);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-0-5-CookieValue"><a href="#4-0-5-CookieValue" class="headerlink" title="4.0.5. @CookieValue"></a>4.0.5. @CookieValue</h4><h5 id="简述-3"><a href="#简述-3" class="headerlink" title="简述"></a>简述</h5><p>将请求中的指定的 Cookie 值绑定到处理方法的入参上</p>
<h5 id="属性-3"><a href="#属性-3" class="headerlink" title="属性"></a>属性</h5><p>同@RequestParam</p>
<h5 id="示例：-3"><a href="#示例：-3" class="headerlink" title="示例："></a>示例：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testCookieValue"</span>)<span class="comment">//</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testCookieValue</span><span class="params">(@CookieValue(<span class="string">"JSESSIONID"</span>)</span> String sessionId) </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"testCookieValue: sessionId: "</span> + sessionId);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中的@CookieValue(“JSESSIONID”)相当于</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Cookie[] cookies = request.getCookies();</span><br><span class="line"><span class="keyword">for</span> (Cookie c : cookies) &#123;</span><br><span class="line">       <span class="keyword">if</span> (<span class="string">"JESSIONID"</span>.euqals(c.getName())) &#123;</span><br><span class="line">            String cv = c.getValue();</span><br><span class="line">       &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-0-6-RequestMapping的组合注解"><a href="#4-0-6-RequestMapping的组合注解" class="headerlink" title="4.0.6. @RequestMapping的组合注解"></a>4.0.6. @RequestMapping的组合注解</h4><p>@GetMapping、@PostMapping、@PutMapping、@DeleteMapping</p>
<p>以@GetMapping为例，@GetMapping<strong>等同于</strong>@RequestMapping(method=RequestMethod.GET)</p>
<h3 id="4-1-参数封装"><a href="#4-1-参数封装" class="headerlink" title="4.1. 参数封装"></a>4.1. 参数封装</h3><h4 id="4-1-0-普通参数类型"><a href="#4-1-0-普通参数类型" class="headerlink" title="4.1.0. 普通参数类型"></a>4.1.0. 普通参数类型</h4><p>只要 <strong>请求参数的key</strong> 和 <strong>方法的参数名</strong> 一样，数据便会自动封装上。</p>
<p>若不一致，可在方法参数上添加@ReuquestParam注解，注解的<strong>value值</strong>还是要和<strong>请求参数的key</strong>一致</p>
<h4 id="4-1-1-数组类型"><a href="#4-1-1-数组类型" class="headerlink" title="4.1.1.数组类型"></a>4.1.1.数组类型</h4><p>同 普通参数类型</p>
<h4 id="4-1-2-POJO类型"><a href="#4-1-2-POJO类型" class="headerlink" title="4.1.2. POJO类型"></a>4.1.2. POJO类型</h4><ul>
<li>请求中的<strong>参数名</strong>、<strong>参数类型</strong>和方法参数的<strong>POJO</strong>里的<strong>属性名</strong>和<strong>属性类型</strong>要一一对应</li>
<li>自动匹配与方法<strong>参数名</strong>无关</li>
<li>请求中的参数可以比POJO里的属性少，但<strong>不能多</strong></li>
<li>支持级联属性</li>
</ul>
<h4 id="4-1-3-List集合类型"><a href="#4-1-3-List集合类型" class="headerlink" title="4.1.3. List集合类型"></a>4.1.3. List集合类型</h4><p><img src="/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/List%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E5%B0%81%E8%A3%85.png" alt="List集合"></p>
<h4 id="4-1-4-Map集合类型"><a href="#4-1-4-Map集合类型" class="headerlink" title="4.1.4. Map集合类型"></a>4.1.4. Map集合类型</h4><p><img src="/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/Map%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E5%B0%81%E8%A3%85.png" alt="Map集合"></p>
<h4 id="4-1-5-Json格式字符串"><a href="#4-1-5-Json格式字符串" class="headerlink" title="4.1.5. Json格式字符串"></a>4.1.5. Json格式字符串</h4><ol>
<li><p>导包</p>
<p>jackson-annotations-2.9.8.jar</p>
<p>jackson-core-2.9.8.jar</p>
<p>jackson-databind-2.9.8.jar</p>
</li>
<li><p>在Controller里的指定方法的参数前加@RequestBody。参数对象的属性要和Json字符串里的name对应</p>
</li>
</ol>
<h3 id="4-2-使用Servlet-API"><a href="#4-2-使用Servlet-API" class="headerlink" title="4.2. 使用Servlet API"></a>4.2. 使用Servlet API</h3><p>SpringMVC支持调用原生Servlet API，Controller方法参数用ServletAPI类型的即可</p>
<p>可用的参数类型有：</p>
<p><strong>HttpServletRequest;HttpServletResponse;HttpSession;</strong></p>
<p>java.security.Principal;Locale;InputStream;OutputStream;Reader;Writer</p>
<h3 id="4-3-静态资源的处理"><a href="#4-3-静态资源的处理" class="headerlink" title="4.3. 静态资源的处理"></a>4.3. 静态资源的处理</h3><h4 id="处理方式一"><a href="#处理方式一" class="headerlink" title="处理方式一"></a>处理方式一</h4><p>在web.xml中配DispatcherServlet时，限定其拦截格式，没有被拦截的则交给<strong>默认Servlet</strong>处理</p>
<p>缺点：不符合REST风格</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.do<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="处理方式二-常用"><a href="#处理方式二-常用" class="headerlink" title="处理方式二(常用)"></a>处理方式二(常用)</h4><p>springmvc的配置文件中配两个标签</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="处理方式三"><a href="#处理方式三" class="headerlink" title="处理方式三"></a>处理方式三</h4><p>springmvc的配置文件中配一个&lt;mvc:resources/&gt;</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置静态资源映射</span></span><br><span class="line"><span class="comment"> 	 mapping:请求路径规则</span></span><br><span class="line"><span class="comment">	 location:满足路径规则后，去哪找静态资源--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">"/pages/*"</span> <span class="attr">location</span>=<span class="string">"/pages"</span>/&gt;</span><span class="comment">&lt;!-- *代表一层路径 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:resources</span> <span class="attr">mapping</span>=<span class="string">"/pages/**"</span> <span class="attr">location</span>=<span class="string">"/pages"</span>/&gt;</span><span class="comment">&lt;!-- **代表多层路径 --&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-数据输出"><a href="#5-数据输出" class="headerlink" title="5. 数据输出"></a>5. 数据输出</h2><p>除了在方法参数上传入原生的ServletAPI，Spring还提供了几种途径输出数据模型</p>
<h3 id="5-1-方法参数为Map、Model或ModelMap"><a href="#5-1-方法参数为Map、Model或ModelMap" class="headerlink" title="5.1. 方法参数为Map、Model或ModelMap"></a>5.1. 方法参数为Map、Model或ModelMap</h3><p>Controller方法参数为Map、ModelMap或Model 时，最终都是BindingAwareModelMap工作。</p>
<p>里面保存的数据会放在请求域中，可以在页面进行获取</p>
<h3 id="5-2-方法返回值类型为ModelAndView"><a href="#5-2-方法返回值类型为ModelAndView" class="headerlink" title="5.2. 方法返回值类型为ModelAndView"></a>5.2. 方法返回值类型为ModelAndView</h3><p>ModelAndView既包含视图信息（页面地址）也包含模型数据（给页面带的数据）。数据仍放在了请求域中</p>
<p>可在jsp页面用 JSTL 和 EL 表达式取出</p>
<h4 id="示例：-4"><a href="#示例：-4" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testModelAndView"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">testModelAndView</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//通过构造方法指定返回的页面名称，也可以用setViewName()方法跳转到指定页面</span></span><br><span class="line">    ModelAndView mv = <span class="keyword">new</span> ModelAndView(<span class="string">"success"</span>);</span><br><span class="line">    mv.addObject(<span class="string">"time"</span>,<span class="keyword">new</span> Date().toString()); <span class="comment">//实质上存放到request域中 </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> mv;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-3-方法返回值类型为String"><a href="#5-3-方法返回值类型为String" class="headerlink" title="5.3. 方法返回值类型为String"></a>5.3. 方法返回值类型为String</h3><h4 id="5-3-0-跳转到jsp页面"><a href="#5-3-0-跳转到jsp页面" class="headerlink" title="5.3.0. 跳转到jsp页面"></a>5.3.0. 跳转到jsp页面</h4><h5 id="示例一："><a href="#示例一：" class="headerlink" title="示例一："></a>示例一：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/stringPage"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testStringPage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//方法参数为空，返回jsp页面，且不携带数据</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="示例二："><a href="#示例二：" class="headerlink" title="示例二："></a>示例二：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/stringPage"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testStringPage</span><span class="params">(Model model)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//参数类型为Model类型，返回jsp页面，用model携带了数据</span></span><br><span class="line">    model.addAttribute(<span class="string">"msg"</span>, <span class="string">"测试"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="示例三："><a href="#示例三：" class="headerlink" title="示例三："></a>示例三：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/stringPage"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testStringPage</span><span class="params">(Map map)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//参数类型为Map类型，返回jsp页面，用map携带了数据</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-3-1-将字符串返回到页面上"><a href="#5-3-1-将字符串返回到页面上" class="headerlink" title="5.3.1. 将字符串返回到页面上"></a>5.3.1. 将字符串返回到页面上</h4><h5 id="示例一：-1"><a href="#示例一：-1" class="headerlink" title="示例一："></a>示例一：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ResponseBody</span><span class="comment">//使用后不会再走视图处理器，而是直接将数据写入到输入流中，将返回值输出到了页面</span></span><br><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/testString"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"string"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="示例二：-1"><a href="#示例二：-1" class="headerlink" title="示例二："></a>示例二：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ResponseBody</span><span class="comment">//使用后不会再走视图处理器，而是直接将数据写入到输入流中，将返回值输出到了页面</span></span><br><span class="line"><span class="meta">@GetMapping</span>(value=<span class="string">"/testString"</span>, produces=<span class="string">"text/html;charset=utf-8"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"测试"</span>;<span class="comment">//中文乱码用@GetMapping的produces属性解决了</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-3-2-转发和重定向"><a href="#5-3-2-转发和重定向" class="headerlink" title="5.3.2. 转发和重定向"></a>5.3.2. 转发和重定向</h4><p>一般情况下，控制器方法返回字符串类型的值会被当成逻辑视图名处理。如果返回的字符串中带<code>forward:</code>或 <code>redirect:</code>前缀时，SpringMVC 会对他们进行特殊处理：将 <code>forward:</code>和 <code>redirect:</code>当成指示符，其后的字符串作为 URL 来处理</p>
<h5 id="转发"><a href="#转发" class="headerlink" title="转发"></a>转发</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/testForward"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testForwad</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"forward:string"</span>;<span class="comment">//转发到string请求中</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/testRedirect"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testForwad</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"redirect:string"</span>;<span class="comment">//重定向到string请求中</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-4-方法返回值为void（无返回值）"><a href="#5-4-方法返回值为void（无返回值）" class="headerlink" title="5.4. 方法返回值为void（无返回值）"></a>5.4. 方法返回值为void（无返回值）</h3><p>方法返回值为void，访问地址就变成了响应的视图页面。</p>
<h4 id="示例：-5"><a href="#示例：-5" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/index"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testVoid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//无返回值，默认找的是 配置路径 下的index.jsp页面</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//所以一般可以在无返回值的方法里转发或重定向</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testVoid"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testVoid02</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// request.getRequestDIspatcher("string").forward(request, response);</span></span><br><span class="line">    response.sendRedirect(<span class="string">"string"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-5-方法返回值为自定义对象"><a href="#5-5-方法返回值为自定义对象" class="headerlink" title="5.5. 方法返回值为自定义对象"></a>5.5. 方法返回值为自定义对象</h3><p>需要jackson的支持和@ResponseBody，将对象转成了json，实际返回的是json格式的字符串</p>
<h4 id="示例：-6"><a href="#示例：-6" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/object"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span><span class="comment">//不加该注解的话逻辑视图名为object.jsp,即返回的是object.jsp页面</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Student <span class="title">testObject</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Student stu = <span class="keyword">new</span> Student(<span class="number">11</span>, <span class="string">"张三"</span>);</span><br><span class="line">    <span class="keyword">return</span> stu;<span class="comment">//加了@ResponseBody并导了jackson相关的包，返回的便是json格式的字符串</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-6-方法返回值为ResponseEntity"><a href="#5-6-方法返回值为ResponseEntity" class="headerlink" title="5.6. 方法返回值为ResponseEntity"></a>5.6. 方法返回值为ResponseEntity</h3><h4 id="示例：-7"><a href="#示例：-7" class="headerlink" title="示例："></a>示例：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ResponseEntity内部提供状态码</span></span><br><span class="line"><span class="comment"> * 所以既能携带数据，又能携带状态码</span></span><br><span class="line"><span class="comment"> * 返回的也是Json格式的字符串</span></span><br><span class="line"><span class="comment"> * 依赖jackson</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/responseEntity"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> ResponseEntity <span class="title">testentity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Student stu = <span class="keyword">new</span> Student(<span class="number">11</span>, <span class="string">"张三"</span>);</span><br><span class="line">    <span class="keyword">return</span> ResponseEntity.statu(HttpStatus.OK).body(stu);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-乱码问题"><a href="#6-乱码问题" class="headerlink" title="6. 乱码问题"></a>6. 乱码问题</h2><h4 id="6-0-参数格式为key-value格式时"><a href="#6-0-参数格式为key-value格式时" class="headerlink" title="6.0. 参数格式为key-value格式时"></a>6.0. 参数格式为key-value格式时</h4><h5 id="6-0-0-GET请求乱码"><a href="#6-0-0-GET请求乱码" class="headerlink" title="6.0.0. GET请求乱码"></a>6.0.0. GET请求乱码</h5><p>GET请求在tomcat 8 版本以上不乱码，8版本以下乱码</p>
<h6 id="1-解决方式一"><a href="#1-解决方式一" class="headerlink" title="1. 解决方式一"></a>1. 解决方式一</h6><p>接收参数后，用如下方式自己转一下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="keyword">new</span> String(username.getBytes(<span class="string">"ISO‐8859‐1"</span>), <span class="string">"utf‐8"</span>);</span><br></pre></td></tr></table></figure>

<h6 id="2-解决方式二"><a href="#2-解决方式二" class="headerlink" title="2. 解决方式二"></a>2. 解决方式二</h6><p>为tomcat中的config目录下 server.xml  添加  URIEncoding=”utf‐8”。</p>
<p>如果有useBodyEncodingForURI=”true”，注释掉</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8080"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span>         </span></span><br><span class="line"><span class="tag">           <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span>         </span></span><br><span class="line"><span class="tag">           <span class="attr">redirectPort</span>=<span class="string">"8443"</span>         </span></span><br><span class="line"><span class="tag">           <span class="attr">disableUploadTimeout</span>=<span class="string">"true"</span>         </span></span><br><span class="line"><span class="tag">           <span class="attr">executor</span>=<span class="string">"tomcatThreadPool"</span>         </span></span><br><span class="line"><span class="tag">           <span class="attr">URIEncoding</span>=<span class="string">"utf‐8"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="6-0-1-POST请求乱码"><a href="#6-0-1-POST请求乱码" class="headerlink" title="6.0.1. POST请求乱码"></a>6.0.1. POST请求乱码</h5><p>配置字符编码过滤器，<strong>该过滤器需在其他过滤器的前面</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--CharacterEncodingFilter 在高版本的Spring中是可以解决 GET请求 和POST请求</span></span><br><span class="line"><span class="comment">    低版本,比如说4.X中 只能解决POST请求  不能解决GET请求 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- encoding：指定解决POST请求乱码 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- forceEncoding：解决响应乱码 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="6-1-参数格式为Json格式时"><a href="#6-1-参数格式为Json格式时" class="headerlink" title="6.1. 参数格式为Json格式时"></a>6.1. 参数格式为Json格式时</h4><p>请求参数为Json格式时，因为走了jackson，所以没有乱码问题</p>
<h4 id="6-2-响应乱码"><a href="#6-2-响应乱码" class="headerlink" title="6.2. 响应乱码"></a>6.2. 响应乱码</h4><h5 id="字符串乱码"><a href="#字符串乱码" class="headerlink" title="字符串乱码"></a>字符串乱码</h5><p>通过设定@XxxMapping里的produces属性来避免字符串乱码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该方式不走jackson</span></span><br><span class="line"><span class="meta">@GetMapping</span>(value=<span class="string">"/test"</span>, produces=<span class="string">"text/html;charset=utf-8"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span><span class="comment">//有该注解便可将字符串返回给页面</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"测试字符串"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Json格式乱码"><a href="#Json格式乱码" class="headerlink" title="Json格式乱码"></a>Json格式乱码</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 该方式走了jackson，jackson把乱码问题解决了</span></span><br><span class="line"><span class="meta">@GetMapping</span>(value=<span class="string">"/student"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span><span class="comment">//有该注解便可通过jackson将Student对象转成json字符串返给前端</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Student <span class="title">testString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Student stu = <span class="keyword">new</span> Student(<span class="number">11</span>, <span class="string">"张三"</span>);</span><br><span class="line">    <span class="keyword">return</span> stu;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-REST风格的URL地址约束"><a href="#7-REST风格的URL地址约束" class="headerlink" title="7. REST风格的URL地址约束"></a>7. REST风格的URL地址约束</h2><p>表述性状态传递（Representational State Transfer，简称REST）。以简洁的URL提交请求，以请求方式区分对资源的操作</p>
<p>GET请求：获取数据；POST请求：登录和添加数据；DELETE请求：删除操作；PUT请求：修改操作。</p>
<p>浏览器可以发送GET和POST请求。DELETE和PUT请求需要转换</p>
<h3 id="转换步骤"><a href="#转换步骤" class="headerlink" title="转换步骤"></a>转换步骤</h3><h4 id="1-web-xml中配置过滤器"><a href="#1-web-xml中配置过滤器" class="headerlink" title="1. web.xml中配置过滤器"></a>1. web.xml中配置过滤器</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-前端代码"><a href="#2-前端代码" class="headerlink" title="2. 前端代码"></a>2. 前端代码</h4><p>需满足几个条件：</p>
<p>1、前端请求必须为POST；</p>
<p>2、请求时必须要携带一个隐藏域，其参数名称为_method；参数值必须为PUT或DELETE(不区分大小写)</p>
<p>注意点：8.0版本tomcat会在jsp页面报405异常</p>
<p>解决方式：需在jsp页面中头标签中添加 isErrorpage=”true”属性；<code>&lt;%@ …… page isErrorPage=&quot;true&quot;%&gt;</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 以PUT请求为例，测试 REST风格 PUT 请求 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"springmvc/testRESTPut/1"</span> <span class="attr">method</span>=<span class="string">"POST"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"_method"</span> <span class="attr">value</span>=<span class="string">"PUT"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">value</span>=<span class="string">"张三"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">value</span>=<span class="string">"13"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"restPath"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-后端代码"><a href="#3-后端代码" class="headerlink" title="3. 后端代码"></a>3. 后端代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(value=<span class="string">"/restPath/&#123;name&#125;/&#123;age&#125;"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testREST</span><span class="params">(@PathVarible(<span class="string">"name"</span>)</span>sname, @<span class="title">PathVarible</span><span class="params">(<span class="string">"age"</span>)</span>sage) </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"sanme="</span> + sname + <span class="string">";sage"</span> + sage);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-视图和视图解析器"><a href="#8-视图和视图解析器" class="headerlink" title="8. 视图和视图解析器"></a>8. 视图和视图解析器</h2><h3 id="8-0-视图"><a href="#8-0-视图" class="headerlink" title="8.0. 视图"></a>8.0. 视图</h3><p>视图对象由视图解析器负责实例化。由于视图是无状态的，所以不会有线程安全的问题</p>
<p>视图的顶级接口为View</p>
<h4 id="8-0-0-常用视图实现类图示"><a href="#8-0-0-常用视图实现类图示" class="headerlink" title="8.0.0. 常用视图实现类图示"></a>8.0.0. 常用视图实现类图示</h4><p><img src="/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/%E8%A7%86%E5%9B%BEView%E5%AE%9E%E7%8E%B0%E7%B1%BB.png" alt="View实现类"></p>
<h3 id="8-1-视图解析器"><a href="#8-1-视图解析器" class="headerlink" title="8.1. 视图解析器"></a>8.1. 视图解析器</h3><p>视图解析器根据方法的返回值得到视图对象。ViewResolver 是其顶级接口</p>
<h4 id="8-1-0-常用视图解析器图示"><a href="#8-1-0-常用视图解析器图示" class="headerlink" title="8.1.0. 常用视图解析器图示"></a>8.1.0. 常用视图解析器图示</h4><p><img src="/2020/04/20/%E7%AC%94%E8%AE%B0-SpringMVC/%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8ViewResolver%E5%AE%9E%E7%8E%B0%E7%B1%BB.png" alt="ViewResolver实现类"></p>
<h3 id="8-2-其它"><a href="#8-2-其它" class="headerlink" title="8.2. 其它"></a>8.2. 其它</h3><p>若想直接响应通过 SpringMVC 渲染的页面，而不经过Controller来执行结果，可在SpringMVC的配置文件中添加<strong>&lt;mvc:view-controller/&gt;</strong>标签。</p>
<h4 id="8-2-0-示例："><a href="#8-2-0-示例：" class="headerlink" title="8.2.0. 示例："></a>8.2.0. 示例：</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:view-controller</span> <span class="attr">path</span>=<span class="string">"/success"</span> <span class="attr">view-name</span>=<span class="string">"success"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="8-2-1-注意点"><a href="#8-2-1-注意点" class="headerlink" title="8.2.1. 注意点"></a>8.2.1. 注意点</h4><p>配置<strong>&lt;mvc:view-controller/&gt;</strong>会导致其他请求路径失效。解决方式：再配一个<strong>&lt;mvc:annotation-driven/&gt;</strong>标签</p>
<h2 id="9-国际化"><a href="#9-国际化" class="headerlink" title="9. 国际化"></a>9. 国际化</h2><p>针对不同的国家进行不同的视图显示，JstlView可以解析Jstl语言进行国际化操作</p>
<h3 id="9-0-实现步骤"><a href="#9-0-实现步骤" class="headerlink" title="9.0. 实现步骤"></a>9.0. 实现步骤</h3><h4 id="9-0-0-创建资源文件"><a href="#9-0-0-创建资源文件" class="headerlink" title="9.0.0. 创建资源文件"></a>9.0.0. 创建资源文件</h4><p>资源文件的命名规范：基名_语言_国家.properties</p>
<p>例：base_zh_CN.properties；i18n_zh_CN.properties</p>
<h4 id="9-0-1-springmvc-xml中配置特定-lt-bean-gt-标签"><a href="#9-0-1-springmvc-xml中配置特定-lt-bean-gt-标签" class="headerlink" title="9.0.1. springmvc.xml中配置特定&lt;bean/&gt;标签"></a>9.0.1. springmvc.xml中配置特定&lt;bean/&gt;标签</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 加载国际化资源文件 bean的id="messageSource",是固定的，因为springMVC在启动时会自动查询这个bean并加载--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"messageSource"</span><span class="attr">class</span>=<span class="string">"org.springframework.context.support.ResourceBundleMessageSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basename"</span> <span class="attr">value</span>=<span class="string">"i18n"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="9-0-2-导包，配fmt标签"><a href="#9-0-2-导包，配fmt标签" class="headerlink" title="9.0.2. 导包，配fmt标签"></a>9.0.2. 导包，配fmt标签</h4><p>要导的包：jstl.jar和standard.jar</p>
<p>在具体的jsp页面里导入jstl下的fmt名称空间，并书写相应的标签。</p>
<p>&lt;fmt:message key=”resource.welcome”/&gt;</p>
<h2 id="10-文件上传"><a href="#10-文件上传" class="headerlink" title="10. 文件上传"></a>10. 文件上传</h2><p>流行的文件上传方式：提交表单（包括异步）的方式；Base64的方式</p>
<h3 id="10-0-文件上传之提交表单"><a href="#10-0-文件上传之提交表单" class="headerlink" title="10.0. 文件上传之提交表单"></a>10.0. 文件上传之提交表单</h3><p>提交表单的三要素：</p>
<ul>
<li>前端请求必须为POST</li>
<li>前端必须要有<strong>&lt;input tupe=”file”/&gt;</strong></li>
<li>form标签里必须要有enctype属性，且<code>enctype=&quot;mutlipart/form-data&quot;</code>。</li>
</ul>
<h4 id="10-0-0-文件上传之Part的方式"><a href="#10-0-0-文件上传之Part的方式" class="headerlink" title="10.0.0. 文件上传之Part的方式"></a>10.0.0. 文件上传之Part的方式</h4><p>该方式只导个servlet-api.jar，不需配置任何视图解析器</p>
<h5 id="单文件Part上传"><a href="#单文件Part上传" class="headerlink" title="单文件Part上传"></a>单文件Part上传</h5><h6 id="1-编写前端页面"><a href="#1-编写前端页面" class="headerlink" title="1. 编写前端页面"></a>1. 编写前端页面</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/upload"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"image"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"上传图片"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="2-添加配置信息"><a href="#2-添加配置信息" class="headerlink" title="2. 添加配置信息"></a>2. 添加配置信息</h6><p>在web.xml中的DispatcherServlet中添加一个<strong>&lt;multipart-config/&gt;</strong>标签</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">	......</span><br><span class="line">    <span class="comment">&lt;!-- 单位Byte --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">multipart-config</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">max-file-size</span>&gt;</span>20848820<span class="tag">&lt;/<span class="name">max-file-size</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">max-request-size</span>&gt;</span>418018841<span class="tag">&lt;/<span class="name">max-request-size</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file-size-threshold</span>&gt;</span>1048576<span class="tag">&lt;/<span class="name">file-size-threshold</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">multipart-config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="3-编写Controller类"><a href="#3-编写Controller类" class="headerlink" title="3.编写Controller类"></a>3.编写Controller类</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadController</span> </span>&#123; </span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"upload"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">upload</span><span class="params">(HttpServletRequest request)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    	Part file = request.getPart(<span class="string">"image"</span>);</span><br><span class="line">        String realPath = request.getServletContext().getRealPath(<span class="string">"/WEB-INF/"</span>);</span><br><span class="line">        file.write(realPath + file.getSubmittedFileName());</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="多文件Part上传"><a href="#多文件Part上传" class="headerlink" title="多文件Part上传"></a>多文件Part上传</h5><h6 id="1-编写前端页面-1"><a href="#1-编写前端页面-1" class="headerlink" title="1. 编写前端页面"></a>1. 编写前端页面</h6><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/upload"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 相比单文件上传该标签里多了一个multiple属性 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"image"</span> <span class="attr">multiple</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"上传图片"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="2-添加配置信息-1"><a href="#2-添加配置信息-1" class="headerlink" title="2. 添加配置信息"></a>2. 添加配置信息</h6><p>在web.xml中的DispatcherServlet中添加一个<strong>&lt;multipart-config/&gt;</strong>标签</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">	......</span><br><span class="line">    <span class="comment">&lt;!-- 单位Byte --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">multipart-config</span>&gt;</span></span><br><span class="line">    	<span class="tag">&lt;<span class="name">max-file-size</span>&gt;</span>20848820<span class="tag">&lt;/<span class="name">max-file-size</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">max-request-size</span>&gt;</span>418018841<span class="tag">&lt;/<span class="name">max-request-size</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file-size-threshold</span>&gt;</span>1048576<span class="tag">&lt;/<span class="name">file-size-threshold</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">multipart-config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h6 id="3-编写Controller类-1"><a href="#3-编写Controller类-1" class="headerlink" title="3. 编写Controller类"></a>3. 编写Controller类</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@MultipartConfig</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadController</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"upload"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">upload</span><span class="params">(HttpServletRequest request)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    	Collection&lt;Part&gt; parts = request.getParts();</span><br><span class="line">        String realPath = request.getServletContext().getRealPath(<span class="string">"/WEB-INF/"</span>);</span><br><span class="line">        parts.forEach(part -&gt; &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                part.write(realPath + file.getSubmittedFileName());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="10-0-1-文件上传之SpringMVC"><a href="#10-0-1-文件上传之SpringMVC" class="headerlink" title="10.0.1. 文件上传之SpringMVC"></a>10.0.1. 文件上传之SpringMVC</h4><p>需要导jar包，配多媒体视图解析器</p>
<h5 id="1-导jar包"><a href="#1-导jar包" class="headerlink" title="1. 导jar包"></a>1. 导jar包</h5><p>commons-io-1.4.jar和commons-fileupload-1.2.1.jar</p>
<h5 id="2-配置多媒体视图解析器"><a href="#2-配置多媒体视图解析器" class="headerlink" title="2. 配置多媒体视图解析器"></a>2. 配置多媒体视图解析器</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 其id值固定 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"multipartResolver"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"org.springframework.web.multipart.commons.CommonsMultipartResolver"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"defaultEncoding"</span> <span class="attr">value</span>=<span class="string">"UTF-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 上传单个文件的最大值，单位Byte;如果-1，表示无限制 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxUploadSize"</span>  <span class="attr">value</span>=<span class="string">"102400"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="3-前端页面"><a href="#3-前端页面" class="headerlink" title="3. 前端页面"></a>3. 前端页面</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/upload"</span> <span class="attr">method</span>=<span class="string">"post"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"上传"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="4-编写Controller类"><a href="#4-编写Controller类" class="headerlink" title="4. 编写Controller类"></a>4. 编写Controller类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PostMapping</span>(<span class="string">"upload"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">upload</span><span class="params">(HttpServletRequest request, MultipartFile[] avater)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    	String realPath = request.getServletContext().getRealPath(<span class="string">"/WEB-INF/images/"</span>);</span><br><span class="line">        File file = <span class="keyword">new</span> File(realPath);</span><br><span class="line">        <span class="keyword">if</span> (!file.exists()) &#123;</span><br><span class="line">            file.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; avater.lenth; i++) &#123;</span><br><span class="line">            String fileName = avater[i].getOriginalFilename();</span><br><span class="line">            avater[i].transferTo(<span class="keyword">new</span> File(file, fileName));</span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="11-文件下载"><a href="#11-文件下载" class="headerlink" title="11. 文件下载"></a>11. 文件下载</h2><h3 id="11-0-下载方式一"><a href="#11-0-下载方式一" class="headerlink" title="11.0. 下载方式一"></a>11.0. 下载方式一</h3><p>直接在前端给出下载链接</p>
<h4 id="前端页面"><a href="#前端页面" class="headerlink" title="前端页面"></a>前端页面</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/download/测试.xlsx"</span>&gt;</span>下载表格<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="springmvc-xml添加配置"><a href="#springmvc-xml添加配置" class="headerlink" title="springmvc.xml添加配置"></a>springmvc.xml添加配置</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="11-1-下载方式二"><a href="#11-1-下载方式二" class="headerlink" title="11.1. 下载方式二"></a>11.1. 下载方式二</h3><h4 id="前端页面-1"><a href="#前端页面-1" class="headerlink" title="前端页面"></a>前端页面</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 此链接请求的是后端的Controlelr --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/download"</span>&gt;</span>点此下载<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="后端代码"><a href="#后端代码" class="headerlink" title="后端代码"></a>后端代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/download"</span>)</span><br><span class="line"><span class="keyword">public</span> ResponseEntity&lt;<span class="keyword">byte</span>[]&gt; testDownload(HttpServletRequest request)</span><br><span class="line">    <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    String realPath = request.getServletContext().getRealPath(<span class="string">"/download/测试.docx"</span>);</span><br><span class="line">    FileInputStream in = <span class="keyword">new</span> FileInputStream(realPath);</span><br><span class="line">    <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[in.available()];</span><br><span class="line">    String fileName = realPath.substring(realPath.lastIndexOf(<span class="string">"\\"</span>) + <span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    HttpHeaders headers = <span class="keyword">new</span> HttpHeaders();</span><br><span class="line">    headers.serContentDispositionFormData(<span class="string">"attachment"</span>, URLEncoder.encode(fileName, <span class="string">"utf-8"</span>));</span><br><span class="line">    </span><br><span class="line">    ResponseEntity&lt;<span class="keyword">byte</span>[]&gt; entity = <span class="keyword">new</span> ResponseEntity&lt;<span class="keyword">byte</span>[]&gt;(buffer, headers, HttpStatus.OK);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> entity;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="12-类型转换"><a href="#12-类型转换" class="headerlink" title="12. 类型转换"></a>12. 类型转换</h2><h3 id="12-0-key-value格式转Date"><a href="#12-0-key-value格式转Date" class="headerlink" title="12.0. key-value格式转Date"></a>12.0. key-value格式转Date</h3><h4 id="解决方式一（局部配置）"><a href="#解决方式一（局部配置）" class="headerlink" title="解决方式一（局部配置）"></a>解决方式一（局部配置）</h4><p>在实体类的Date属性上添加@DateTimeFormat注解。</p>
<p>例：@DateTimeFormat(pattern=”yyyy-MM-dd”)</p>
<p>​    或@DateTimeFormat(pattern=”<strong>yyyy-MM-ddTHH:mm:ss</strong>“)</p>
<p>缺点：需要转换的属性都要加注解，做不到统一维护</p>
<h4 id="解决方式二-全局配置"><a href="#解决方式二-全局配置" class="headerlink" title="解决方式二(全局配置)"></a>解决方式二(全局配置)</h4><h5 id="1-新建类型转换器"><a href="#1-新建类型转换器" class="headerlink" title="1. 新建类型转换器"></a>1. 新建类型转换器</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Converter 第一个泛型 表示from，第二个泛型 表示 to </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConvert</span> <span class="keyword">implements</span> <span class="title">Converter</span>&lt;<span class="title">String</span>,<span class="title">Date</span>&gt; </span>&#123;     </span><br><span class="line">    <span class="meta">@Override</span>   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">convert</span><span class="params">(String s)</span> </span>&#123;       </span><br><span class="line">        SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy‐MM‐dd"</span>);       </span><br><span class="line">        <span class="keyword">try</span> &#123;           </span><br><span class="line">            Date parse = sdf.parse(s);           </span><br><span class="line">            <span class="keyword">return</span> parse;       </span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123; </span><br><span class="line">            SimpleDateFormat sdf1 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy/MM/dd"</span>);           </span><br><span class="line">         	<span class="keyword">try</span> &#123; </span><br><span class="line">                <span class="keyword">return</span> sdf1.parse(s);           </span><br><span class="line">            &#125; <span class="keyword">catch</span> (ParseException e1) &#123;</span><br><span class="line">              e1.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-SpringMVC配置文件中配置转换器"><a href="#2-SpringMVC配置文件中配置转换器" class="headerlink" title="2. SpringMVC配置文件中配置转换器"></a>2. SpringMVC配置文件中配置转换器</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"conversionService"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"org.springframework.format.support.FormattingConversionServiceFactoryBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"conventers"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.shangma.cn.MyConvert"</span>/&gt;</span> </span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 将conversionService注册到annotation-driven中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation‐driven</span> <span class="attr">conversion</span>‐<span class="attr">service</span>=<span class="string">"conversionService"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="12-1-Json格式转Date"><a href="#12-1-Json格式转Date" class="headerlink" title="12.1. Json格式转Date"></a>12.1. Json格式转Date</h3><h4 id="解决方式一（局部配置）-1"><a href="#解决方式一（局部配置）-1" class="headerlink" title="解决方式一（局部配置）"></a>解决方式一（局部配置）</h4><h5 id="1-导包"><a href="#1-导包" class="headerlink" title="1. 导包"></a>1. 导包</h5><p>jackson-annotations-2.9.8.jar；jackson-core-2.9.8.jar；jackson-databind-2.9.8.jar</p>
<h5 id="2-加注解"><a href="#2-加注解" class="headerlink" title="2. 加注解"></a>2. 加注解</h5><p>在相应的Date属性上加@JsonFormat注解。</p>
<p><strong>不加注解的话</strong>，也能通过jackson转换，默认支持yyyy-MM-dd HH:mm:ss和yyyy-MM-dd 格式的转换</p>
<h4 id="解决方式二-全局配置-1"><a href="#解决方式二-全局配置-1" class="headerlink" title="解决方式二(全局配置)"></a>解决方式二(全局配置)</h4><h5 id="1-导包-1"><a href="#1-导包-1" class="headerlink" title="1. 导包"></a>1. 导包</h5><p>jackson-annotations-2.9.8.jar；jackson-core-2.9.8.jar；jackson-databind-2.9.8.jar</p>
<h5 id="2-springmvc的配置文件"><a href="#2-springmvc的配置文件" class="headerlink" title="2. springmvc的配置文件"></a>2. springmvc的配置文件</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation‐driven</span>&gt;</span>         </span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:message‐converters</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"objectMapper"</span> <span class="attr">ref</span>=<span class="string">"objectMapper"</span>/&gt;</span>             </span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span>           </span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:message‐converters</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:annotation‐driven</span>&gt;</span>       </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"objectMapper"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">p:indentOutput</span>=<span class="string">"true"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">p:simpleDateFormat</span>=<span class="string">"yyyy‐MM‐dd HH:mm:ss"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="12-2-key-value格式转LocalDate-amp-LocalDateTime"><a href="#12-2-key-value格式转LocalDate-amp-LocalDateTime" class="headerlink" title="12.2. key-value格式转LocalDate&amp;LocalDateTime"></a>12.2. key-value格式转LocalDate&amp;LocalDateTime</h3><h4 id="解决方式一-局部配置"><a href="#解决方式一-局部配置" class="headerlink" title="解决方式一(局部配置)"></a>解决方式一(局部配置)</h4><p>在实体类的Date属性上添加@DateTimeFormat注解。</p>
<p>例：@DateTimeFormat(pattern=”yyyy-MM-dd”)(不能加在LocalDateTime上)</p>
<p>​    @DateTimeFormat(pattern=”<strong>yyyy-MM-dd HH:mm:ss</strong>“)(两种类型都可加)</p>
<p>缺点：需要转换的属性都要加注解，做不到统一维护</p>
<h4 id="解决方式二-全局配置-2"><a href="#解决方式二-全局配置-2" class="headerlink" title="解决方式二(全局配置)"></a>解决方式二(全局配置)</h4><h5 id="1-定义两个类型转换器-Convert"><a href="#1-定义两个类型转换器-Convert" class="headerlink" title="1. 定义两个类型转换器(Convert)"></a>1. 定义两个类型转换器(Convert)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConvert1</span> <span class="keyword">implements</span> <span class="title">Converter</span>&lt;<span class="title">String</span>,<span class="title">LocalDateTime</span>&gt; </span>&#123;     </span><br><span class="line">    <span class="meta">@Override</span>     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> LocalDateTime <span class="title">convert</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> LocalDateTime.parse(s,DateTimeFormatter.ofPattern(<span class="string">"yyyy‐MM‐dd  HH:mm:ss"</span>));     </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyConvert2</span> <span class="keyword">implements</span> <span class="title">Converter</span>&lt;<span class="title">String</span>,<span class="title">LocalDate</span>&gt; </span>&#123;     </span><br><span class="line">    <span class="meta">@Override</span>     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> LocalDate <span class="title">convert</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> LocalDate.parse(s,DateTimeFormatter.ofPattern(<span class="string">"yyyy‐MM‐dd"</span>));     </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-配置转换器"><a href="#2-配置转换器" class="headerlink" title="2.配置转换器"></a>2.配置转换器</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"conversionService"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"org.springframework.format.support.FormattingConversionServiceFactoryBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"converters"</span>&gt;</span>               </span><br><span class="line">    	<span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 此处放置的为内部bean。也可在外部定义，内部来引用 --&gt;</span></span><br><span class="line">        	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.shangma.cn.MyConvert1"</span>/&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"com.shangma.cn.MyConvert2"</span>/&gt;</span></span><br><span class="line">    	<span class="tag">&lt;/<span class="name">set</span>&gt;</span>           </span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span>       </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 将conversionService注册到annotation-driven中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation‐driven</span> <span class="attr">conversion</span>‐<span class="attr">service</span>=<span class="string">"conversionService"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="12-3-Json格式转LocalDate-amp-LocalDateTime"><a href="#12-3-Json格式转LocalDate-amp-LocalDateTime" class="headerlink" title="12.3. Json格式转LocalDate&amp;LocalDateTime"></a>12.3. Json格式转LocalDate&amp;LocalDateTime</h3><h4 id="解决方式一"><a href="#解决方式一" class="headerlink" title="解决方式一"></a>解决方式一</h4><h5 id="1-导包-2"><a href="#1-导包-2" class="headerlink" title="1. 导包"></a>1. 导包</h5><p>jackson-annotations-2.9.8.jar；jackson-core-2.9.8.jar</p>
<p>jackson-databind-2.9.8.jar；jackson-datatype-jsr310-2.9.8.jar</p>
<h5 id="2-加注解-1"><a href="#2-加注解-1" class="headerlink" title="2. 加注解"></a>2. 加注解</h5><p>@JsonFormat(pattern=”yyyy-MM-dd”)(不能加在LocalDateTime上)</p>
<p>@JsonFormat(pattern=”<strong>yyyy-MM-dd HH:mm:ss</strong>“)(两种类型都可加)</p>
<p><strong>不加注解的话</strong>，也能通过jackson转换，默认支持yyyy-MM-dd HH:mm:ss和yyyy-MM-dd 格式的转换</p>
<h4 id="解决方式二"><a href="#解决方式二" class="headerlink" title="解决方式二"></a>解决方式二</h4><h5 id="1-导包-3"><a href="#1-导包-3" class="headerlink" title="1. 导包"></a>1. 导包</h5><p>jackson-annotations-2.9.8.jar；jackson-core-2.9.8.jar</p>
<p>jackson-databind-2.9.8.jar；jackson-datatype-jsr310-2.9.8.jar</p>
<h5 id="2-SpringMVC配置文件"><a href="#2-SpringMVC配置文件" class="headerlink" title="2. SpringMVC配置文件"></a>2. SpringMVC配置文件</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation‐driven</span>&gt;</span>         </span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:message‐converters</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter"</span>&gt;</span>                 <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"objectMapper"</span> <span class="attr">ref</span>=<span class="string">"objectMapper"</span>/&gt;</span>             </span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span>           </span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:message‐converters</span>&gt;</span>     </span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:annotation‐driven</span>&gt;</span>       </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"objectMapper"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">p:indentOutput</span>=<span class="string">"true"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">p:modules-ref</span>=<span class="string">"module"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"module"</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"com.fastxml.jackson.datatype.jsr310.JavaTimeModule"</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="12-4-Date-amp-LocalDate-amp-LocalDateTime转Json"><a href="#12-4-Date-amp-LocalDate-amp-LocalDateTime转Json" class="headerlink" title="12.4. Date&amp;LocalDate&amp;LocalDateTime转Json"></a>12.4. Date&amp;LocalDate&amp;LocalDateTime转Json</h3><h4 id="1-导包-4"><a href="#1-导包-4" class="headerlink" title="1. 导包"></a>1. 导包</h4><p>jackson-annotations-2.9.8.jar；jackson-core-2.9.8.jar</p>
<p>jackson-databind-2.9.8.jar；jackson-datatype-jsr310-2.9.8.jar</p>
<h4 id="2-加注解-2"><a href="#2-加注解-2" class="headerlink" title="2. 加注解"></a>2. 加注解</h4><p>@JsonFormat(pattern=”yyyy-MM-dd”)(不能加在LocalDateTime上)</p>
<p>@JsonFormat(pattern=”<strong>yyyy-MM-dd HH:mm:ss</strong>“)(两种类型都可加)</p>
<p><strong>不加注解的话</strong>，时间类型会转成<strong>Json格式的时间辍</strong></p>
<h2 id="13-拦截器"><a href="#13-拦截器" class="headerlink" title="13. 拦截器"></a>13. 拦截器</h2><h3 id="13-0-使用步骤"><a href="#13-0-使用步骤" class="headerlink" title="13.0. 使用步骤"></a>13.0. 使用步骤</h3><h4 id="1-创建自定义拦截器"><a href="#1-创建自定义拦截器" class="headerlink" title="1. 创建自定义拦截器"></a>1. 创建自定义拦截器</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FirstInteceptor</span> <span class="keyword">implements</span> <span class="title">HandlerInterceptor</span> </span>&#123;       </span><br><span class="line">    <span class="comment">// Controller方法执行前执行       </span></span><br><span class="line">    <span class="comment">//返回false  程序不往下执行     </span></span><br><span class="line">    <span class="comment">// 返回true  程序继续往下执行 类似放行的意思     </span></span><br><span class="line">    <span class="meta">@Override</span>     </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest request, </span></span></span><br><span class="line"><span class="function"><span class="params">                             HttpServletResponse response,  Object handler)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"preHandle执行了"</span>);         </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;     </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//Controller 方法执行完成后 还没有返回视图时执行   </span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postHandle</span><span class="params">(HttpServletRequest request, </span></span></span><br><span class="line"><span class="function"><span class="params">                           HttpServletResponse response, </span></span></span><br><span class="line"><span class="function"><span class="params">                           Object  handler, ModelAndView modelAndView)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"postHandle执行了"</span>);   </span><br><span class="line">    &#125;     </span><br><span class="line">    <span class="comment">//请求和响应都完成了才执行</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterCompletion</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                               	HttpServletResponse response,</span></span></span><br><span class="line"><span class="function"><span class="params">                                Object handler,Exception e)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"afterCompletion执行了"</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-配置springmvc-xml文件"><a href="#2-配置springmvc-xml文件" class="headerlink" title="2. 配置springmvc.xml文件"></a>2. 配置springmvc.xml文件</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:interceptors</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置具体的拦截路径 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定拦截的路径,基于ant风格 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">"/**"</span>/&gt;</span>  </span><br><span class="line">        <span class="comment">&lt;!-- 指定不拦截的路径 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:exclude-mapping</span> <span class="attr">path</span>=<span class="string">"/handler/testUpload"</span>/&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span>  <span class="attr">class</span>=<span class="string">"org.lanqiao.interceptor.MyInterceptor"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置具体的拦截路径 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定拦截的路径,基于ant风格 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:mapping</span> <span class="attr">path</span>=<span class="string">"/**"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 指定不拦截的路径 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mvc:exclude-mapping</span> <span class="attr">path</span>=<span class="string">"/handler/testUpload"</span>/&gt;</span> </span><br><span class="line">        	<span class="tag">&lt;<span class="name">bean</span>  <span class="attr">class</span>=<span class="string">"org.lanqiao.interceptor.MySecondInterceptor"</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mvc:interceptor</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mvc:interceptors</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="14-异常处理"><a href="#14-异常处理" class="headerlink" title="14. 异常处理"></a>14. 异常处理</h2><h3 id="14-0-处理方式一"><a href="#14-0-处理方式一" class="headerlink" title="14.0. 处理方式一"></a>14.0. 处理方式一</h3><h5 id="1-指定错误页面"><a href="#1-指定错误页面" class="headerlink" title="1. 指定错误页面"></a>1. 指定错误页面</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;error-page&gt;</span><br><span class="line">	&lt;location&gt;/WEB-INF/pages/error.jsp&lt;/location&gt;</span><br><span class="line">&lt;/error-page&gt;</span><br></pre></td></tr></table></figure>

<h5 id="2-异常时会跳转到该页面"><a href="#2-异常时会跳转到该页面" class="headerlink" title="2. 异常时会跳转到该页面"></a>2. 异常时会跳转到该页面</h5><p>缺点：页面固定，传值麻烦</p>
<h3 id="14-1-处理方式二"><a href="#14-1-处理方式二" class="headerlink" title="14.1. 处理方式二"></a>14.1. 处理方式二</h3><p>缺点：虽然可以动态显示错误信息 但是只能返回jsp页面 想要返回html页面 需要依赖模板引擎 </p>
<h5 id="1-创建异常处理类"><a href="#1-创建异常处理类" class="headerlink" title="1. 创建异常处理类"></a>1. 创建异常处理类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyExceptionHander</span> <span class="keyword">implements</span> <span class="title">HandlerExceptionResolver</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ModelAndView <span class="title">resolverException</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        HttpServletRequest httpServletRequest, </span></span></span><br><span class="line"><span class="function"><span class="params">        HttpServletResponse httpServletResponse, </span></span></span><br><span class="line"><span class="function"><span class="params">        Object o, Exception e)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        ModelAndView mv = <span class="keyword">new</span> ModelAndView();</span><br><span class="line">        mv.addObject(<span class="string">"msg"</span>, e.getMessage());</span><br><span class="line">        mv.setViewName(<span class="string">"error"</span>);</span><br><span class="line">        <span class="keyword">return</span> mv;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-修改error-jsp"><a href="#2-修改error-jsp" class="headerlink" title="2. 修改error.jsp"></a>2. 修改error.jsp</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	$&#123;msg&#125;<span class="comment">&lt;!-- EL表达式取值 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="3-编写Controller类-2"><a href="#3-编写Controller类-2" class="headerlink" title="3. 编写Controller类"></a>3. 编写Controller类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErrorController</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"error"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">error</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"抛出异常"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="14-2-处理方式三"><a href="#14-2-处理方式三" class="headerlink" title="14.2. 处理方式三"></a>14.2. 处理方式三</h3><p>必须掌握</p>
<h4 id="1-创建枚举类保存状态"><a href="#1-创建枚举类保存状态" class="headerlink" title="1. 创建枚举类保存状态"></a>1. 创建枚举类保存状态</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> StatusEnum &#123;</span><br><span class="line">    </span><br><span class="line">    ERROR(<span class="number">20001</span>, <span class="string">"用户名错误"</span>),</span><br><span class="line">    ;</span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    </span><br><span class="line">    StatusEnum (Integer status, String message) &#123;</span><br><span class="line">        <span class="keyword">this</span>.status = status;</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getStatus</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> status;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setStatus</span><span class="params">(Integer status)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.status = status;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMessage</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-自定义异常类"><a href="#2-自定义异常类" class="headerlink" title="2. 自定义异常类"></a>2. 自定义异常类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> StatusEnum statusEnum;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyException</span> <span class="params">(StatusEnum statusEnum)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.statusEnum = statusEnum;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> StatusEnum <span class="title">getStatusEnum</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> statusEnum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setStatusEnum</span><span class="params">(StatusEnum statusEnum)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.statusEnum = statusEnum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-创建异常返回JavaBean"><a href="#3-创建异常返回JavaBean" class="headerlink" title="3. 创建异常返回JavaBean"></a>3. 创建异常返回JavaBean</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionResponseBean</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Integer status;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExceptionResponseBean</span><span class="params">(EnumStatus enumStatus)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.status = enumStatus.getStatus();</span><br><span class="line">        <span class="keyword">this</span>.message = enumStatus.getMessage();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getStatus</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> status;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setStatus</span><span class="params">(Integer status)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.status = status;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMessage</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="4-在Controller类里抛出异常"><a href="#4-在Controller类里抛出异常" class="headerlink" title="4. 在Controller类里抛出异常"></a>4. 在Controller类里抛出异常</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErrorController</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping</span>(<span class="string">"/error"</span>)</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">error</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> MyException(StatusEnum.ERROR);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"success"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-创建异常处理类"><a href="#5-创建异常处理类" class="headerlink" title="5. 创建异常处理类"></a>5. 创建异常处理类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span>  <span class="class"><span class="keyword">class</span> <span class="title">MyExceptionHandler</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@ExceptionHandler</span>(MyException<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">    <span class="title">public</span> <span class="title">ExceptionResponseBean</span> <span class="title">handler</span> (<span class="title">MyException</span> <span class="title">myException</span>) </span>&#123;</span><br><span class="line">        ExceptionResponseBean bean = </span><br><span class="line">            <span class="keyword">new</span> ExceptionResponseBean(myException.getStatusEnum());</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%A1%86%E6%9E%B6/" rel="tag"># 框架</a>
              <a href="/tags/SpringMVC/" rel="tag"># SpringMVC</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/04/20/%E7%AC%94%E8%AE%B0-Spring/" rel="prev" title="笔记-Spring">
      <i class="fa fa-chevron-left"></i> 笔记-Spring
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/04/20/%E7%AC%94%E8%AE%B0-%E8%B7%AF%E5%BE%84%E7%9A%84%E7%BC%96%E5%86%99%E6%96%B9%E5%BC%8F/" rel="next" title="笔记-路径的编写方式">
      笔记-路径的编写方式 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringMVC"><span class="nav-text">SpringMVC</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-概述"><span class="nav-text">1.概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-SpringMVC的基本使用"><span class="nav-text">2. SpringMVC的基本使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-0-建Web工程，导jar包"><span class="nav-text">2.0. 建Web工程，导jar包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-Web-xml中配置DispathcerServlet"><span class="nav-text">2.1. Web.xml中配置DispathcerServlet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-配置springmvc-xml文件"><span class="nav-text">2.2. 配置springmvc.xml文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-编写相应Controller类和success页面-success-jsp-进行测试等"><span class="nav-text">2.3. 编写相应Controller类和success页面(success.jsp)进行测试等</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-SpringMVC内部流程图"><span class="nav-text">3. SpringMVC内部流程图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-请求相关"><span class="nav-text">4. 请求相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-0-相关注解"><span class="nav-text">4.0. 相关注解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-0-1-RequestMapping"><span class="nav-text">4.0.1. @RequestMapping</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#属性"><span class="nav-text">属性</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#value"><span class="nav-text">value</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#method"><span class="nav-text">method</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#params"><span class="nav-text">params</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#headers"><span class="nav-text">headers</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#consumes"><span class="nav-text">consumes</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#produces"><span class="nav-text">produces</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#RequestMapping支持Ant资源路径风格"><span class="nav-text">@RequestMapping支持Ant资源路径风格</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#路径中带有？"><span class="nav-text">路径中带有？</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#路径中带有"><span class="nav-text">路径中带有*</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#路径中带有-1"><span class="nav-text">路径中带有**</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-0-2-PathVariable"><span class="nav-text">4.0.2. @PathVariable</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#简述"><span class="nav-text">简述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#示例："><span class="nav-text">示例：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-0-3-RequestParam"><span class="nav-text">4.0.3. @RequestParam</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#简述-1"><span class="nav-text">简述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#属性-1"><span class="nav-text">属性</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#value-1"><span class="nav-text">value</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#required"><span class="nav-text">required</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#defaultValue"><span class="nav-text">defaultValue</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#示例：-1"><span class="nav-text">示例：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-0-4-RequestHeader"><span class="nav-text">4.0.4. @RequestHeader</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#简述-2"><span class="nav-text">简述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#属性-2"><span class="nav-text">属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#示例：-2"><span class="nav-text">示例：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-0-5-CookieValue"><span class="nav-text">4.0.5. @CookieValue</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#简述-3"><span class="nav-text">简述</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#属性-3"><span class="nav-text">属性</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#示例：-3"><span class="nav-text">示例：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-0-6-RequestMapping的组合注解"><span class="nav-text">4.0.6. @RequestMapping的组合注解</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-参数封装"><span class="nav-text">4.1. 参数封装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-0-普通参数类型"><span class="nav-text">4.1.0. 普通参数类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-1-数组类型"><span class="nav-text">4.1.1.数组类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-2-POJO类型"><span class="nav-text">4.1.2. POJO类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-3-List集合类型"><span class="nav-text">4.1.3. List集合类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-4-Map集合类型"><span class="nav-text">4.1.4. Map集合类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-5-Json格式字符串"><span class="nav-text">4.1.5. Json格式字符串</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-使用Servlet-API"><span class="nav-text">4.2. 使用Servlet API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-静态资源的处理"><span class="nav-text">4.3. 静态资源的处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#处理方式一"><span class="nav-text">处理方式一</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#处理方式二-常用"><span class="nav-text">处理方式二(常用)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#处理方式三"><span class="nav-text">处理方式三</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-数据输出"><span class="nav-text">5. 数据输出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1-方法参数为Map、Model或ModelMap"><span class="nav-text">5.1. 方法参数为Map、Model或ModelMap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-方法返回值类型为ModelAndView"><span class="nav-text">5.2. 方法返回值类型为ModelAndView</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#示例：-4"><span class="nav-text">示例：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3-方法返回值类型为String"><span class="nav-text">5.3. 方法返回值类型为String</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-0-跳转到jsp页面"><span class="nav-text">5.3.0. 跳转到jsp页面</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#示例一："><span class="nav-text">示例一：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#示例二："><span class="nav-text">示例二：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#示例三："><span class="nav-text">示例三：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-1-将字符串返回到页面上"><span class="nav-text">5.3.1. 将字符串返回到页面上</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#示例一：-1"><span class="nav-text">示例一：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#示例二：-1"><span class="nav-text">示例二：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-2-转发和重定向"><span class="nav-text">5.3.2. 转发和重定向</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#转发"><span class="nav-text">转发</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#重定向"><span class="nav-text">重定向</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-4-方法返回值为void（无返回值）"><span class="nav-text">5.4. 方法返回值为void（无返回值）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#示例：-5"><span class="nav-text">示例：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-5-方法返回值为自定义对象"><span class="nav-text">5.5. 方法返回值为自定义对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#示例：-6"><span class="nav-text">示例：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-6-方法返回值为ResponseEntity"><span class="nav-text">5.6. 方法返回值为ResponseEntity</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#示例：-7"><span class="nav-text">示例：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-乱码问题"><span class="nav-text">6. 乱码问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#6-0-参数格式为key-value格式时"><span class="nav-text">6.0. 参数格式为key-value格式时</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#6-0-0-GET请求乱码"><span class="nav-text">6.0.0. GET请求乱码</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-解决方式一"><span class="nav-text">1. 解决方式一</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-解决方式二"><span class="nav-text">2. 解决方式二</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-0-1-POST请求乱码"><span class="nav-text">6.0.1. POST请求乱码</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-1-参数格式为Json格式时"><span class="nav-text">6.1. 参数格式为Json格式时</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-2-响应乱码"><span class="nav-text">6.2. 响应乱码</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#字符串乱码"><span class="nav-text">字符串乱码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Json格式乱码"><span class="nav-text">Json格式乱码</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-REST风格的URL地址约束"><span class="nav-text">7. REST风格的URL地址约束</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#转换步骤"><span class="nav-text">转换步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-web-xml中配置过滤器"><span class="nav-text">1. web.xml中配置过滤器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-前端代码"><span class="nav-text">2. 前端代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-后端代码"><span class="nav-text">3. 后端代码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-视图和视图解析器"><span class="nav-text">8. 视图和视图解析器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-0-视图"><span class="nav-text">8.0. 视图</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-0-0-常用视图实现类图示"><span class="nav-text">8.0.0. 常用视图实现类图示</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-视图解析器"><span class="nav-text">8.1. 视图解析器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-1-0-常用视图解析器图示"><span class="nav-text">8.1.0. 常用视图解析器图示</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-其它"><span class="nav-text">8.2. 其它</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-0-示例："><span class="nav-text">8.2.0. 示例：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-2-1-注意点"><span class="nav-text">8.2.1. 注意点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-国际化"><span class="nav-text">9. 国际化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9-0-实现步骤"><span class="nav-text">9.0. 实现步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-0-0-创建资源文件"><span class="nav-text">9.0.0. 创建资源文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-0-1-springmvc-xml中配置特定-lt-bean-gt-标签"><span class="nav-text">9.0.1. springmvc.xml中配置特定&lt;bean&#x2F;&gt;标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-0-2-导包，配fmt标签"><span class="nav-text">9.0.2. 导包，配fmt标签</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-文件上传"><span class="nav-text">10. 文件上传</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#10-0-文件上传之提交表单"><span class="nav-text">10.0. 文件上传之提交表单</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#10-0-0-文件上传之Part的方式"><span class="nav-text">10.0.0. 文件上传之Part的方式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#单文件Part上传"><span class="nav-text">单文件Part上传</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-编写前端页面"><span class="nav-text">1. 编写前端页面</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-添加配置信息"><span class="nav-text">2. 添加配置信息</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-编写Controller类"><span class="nav-text">3.编写Controller类</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#多文件Part上传"><span class="nav-text">多文件Part上传</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1-编写前端页面-1"><span class="nav-text">1. 编写前端页面</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2-添加配置信息-1"><span class="nav-text">2. 添加配置信息</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3-编写Controller类-1"><span class="nav-text">3. 编写Controller类</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-0-1-文件上传之SpringMVC"><span class="nav-text">10.0.1. 文件上传之SpringMVC</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-导jar包"><span class="nav-text">1. 导jar包</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-配置多媒体视图解析器"><span class="nav-text">2. 配置多媒体视图解析器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-前端页面"><span class="nav-text">3. 前端页面</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-编写Controller类"><span class="nav-text">4. 编写Controller类</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-文件下载"><span class="nav-text">11. 文件下载</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#11-0-下载方式一"><span class="nav-text">11.0. 下载方式一</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#前端页面"><span class="nav-text">前端页面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#springmvc-xml添加配置"><span class="nav-text">springmvc.xml添加配置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-1-下载方式二"><span class="nav-text">11.1. 下载方式二</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#前端页面-1"><span class="nav-text">前端页面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#后端代码"><span class="nav-text">后端代码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-类型转换"><span class="nav-text">12. 类型转换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#12-0-key-value格式转Date"><span class="nav-text">12.0. key-value格式转Date</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#解决方式一（局部配置）"><span class="nav-text">解决方式一（局部配置）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#解决方式二-全局配置"><span class="nav-text">解决方式二(全局配置)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-新建类型转换器"><span class="nav-text">1. 新建类型转换器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-SpringMVC配置文件中配置转换器"><span class="nav-text">2. SpringMVC配置文件中配置转换器</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-1-Json格式转Date"><span class="nav-text">12.1. Json格式转Date</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#解决方式一（局部配置）-1"><span class="nav-text">解决方式一（局部配置）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-导包"><span class="nav-text">1. 导包</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-加注解"><span class="nav-text">2. 加注解</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#解决方式二-全局配置-1"><span class="nav-text">解决方式二(全局配置)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-导包-1"><span class="nav-text">1. 导包</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-springmvc的配置文件"><span class="nav-text">2. springmvc的配置文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-2-key-value格式转LocalDate-amp-LocalDateTime"><span class="nav-text">12.2. key-value格式转LocalDate&amp;LocalDateTime</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#解决方式一-局部配置"><span class="nav-text">解决方式一(局部配置)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#解决方式二-全局配置-2"><span class="nav-text">解决方式二(全局配置)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-定义两个类型转换器-Convert"><span class="nav-text">1. 定义两个类型转换器(Convert)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-配置转换器"><span class="nav-text">2.配置转换器</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-3-Json格式转LocalDate-amp-LocalDateTime"><span class="nav-text">12.3. Json格式转LocalDate&amp;LocalDateTime</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#解决方式一"><span class="nav-text">解决方式一</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-导包-2"><span class="nav-text">1. 导包</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-加注解-1"><span class="nav-text">2. 加注解</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#解决方式二"><span class="nav-text">解决方式二</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-导包-3"><span class="nav-text">1. 导包</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-SpringMVC配置文件"><span class="nav-text">2. SpringMVC配置文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-4-Date-amp-LocalDate-amp-LocalDateTime转Json"><span class="nav-text">12.4. Date&amp;LocalDate&amp;LocalDateTime转Json</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-导包-4"><span class="nav-text">1. 导包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-加注解-2"><span class="nav-text">2. 加注解</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-拦截器"><span class="nav-text">13. 拦截器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13-0-使用步骤"><span class="nav-text">13.0. 使用步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-创建自定义拦截器"><span class="nav-text">1. 创建自定义拦截器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-配置springmvc-xml文件"><span class="nav-text">2. 配置springmvc.xml文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-异常处理"><span class="nav-text">14. 异常处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#14-0-处理方式一"><span class="nav-text">14.0. 处理方式一</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-指定错误页面"><span class="nav-text">1. 指定错误页面</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-异常时会跳转到该页面"><span class="nav-text">2. 异常时会跳转到该页面</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-1-处理方式二"><span class="nav-text">14.1. 处理方式二</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-创建异常处理类"><span class="nav-text">1. 创建异常处理类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-修改error-jsp"><span class="nav-text">2. 修改error.jsp</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-编写Controller类-2"><span class="nav-text">3. 编写Controller类</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-2-处理方式三"><span class="nav-text">14.2. 处理方式三</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-创建枚举类保存状态"><span class="nav-text">1. 创建枚举类保存状态</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-自定义异常类"><span class="nav-text">2. 自定义异常类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-创建异常返回JavaBean"><span class="nav-text">3. 创建异常返回JavaBean</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-在Controller类里抛出异常"><span class="nav-text">4. 在Controller类里抛出异常</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-创建异常处理类"><span class="nav-text">5. 创建异常处理类</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="纸人"
      src="/images/hu.png">
  <p class="site-author-name" itemprop="name">纸人</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">41</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">73</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        


<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">纸人</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.2
  </div>


<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共82.1k字</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  
  
  
	<script type="text/javascript"
	color="0,0,255" opacity='0.7' zIndex="-1" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  
</body>
</html>
